# OnlineJudge

# 综述

这个项目可以让用户可以在平台上进行做题和判题。用户可以通过登录和注册功能方便地使用平台。平台提供了多道题目供用户选择，也可以自己导入，并且可以直接在网页上进行代码的编写和编辑。当用户完成编写后，平台可以对代码进行编译和运行，并实时返回运行结果，让用户可以直接查看和分析自己的代码运行情况。

![请添加图片描述](https://img-blog.csdnimg.cn/6585b0d3bb9448948e4ab6d46cfc5999.png)


# 示例

![在这里插入图片描述](https://img-blog.csdnimg.cn/260d2708d756421ea85b49ae110332db.png)

![在这里插入图片描述](https://img-blog.csdnimg.cn/99adf867be3046868b926dbd438b6f84.png)

![在这里插入图片描述](https://img-blog.csdnimg.cn/b7c9d7746ecf441e86599abb225f8fe7.png)


![请添加图片描述](https://img-blog.csdnimg.cn/da2f1f62fe7c4323856bae04b77fba5a.png)

![请添加图片描述](https://img-blog.csdnimg.cn/02838932a1434c7b98aae81a5b45bb79.png)


![请添加图片描述](https://img-blog.csdnimg.cn/610c495c5dd345cab62a77b5f02b425a.png)


# 编译服务器
![请添加图片描述](https://img-blog.csdnimg.cn/0529b9fe58c242f98900e5d746285a6c.png)


* 在线服务器将用户需要进行判断的代码交给后端的判题服务器
* 判题服务器将获得的代码交给 `compiler_runner`类，来执行代码的编译和运行的功能
* `compile_runner `分别将代码先交给 `compile`类，进行代码的编译，生成一个可执行文件
* `compile_runner`再将生成的可执行文件交给 `runne`r类，来进行代码的运行，并将结果通过 `重定向`生成 `临时文件`的方式层层递进，同时服务器也会生成相应的 `日志`，反馈给用户

使用层状结构，实现代码之间的 `解耦`，`低耦合，高类聚`

> 判题服务器一经上线，就会发出 `http请求`申请加入到在线服务器的 `后端判题服务器集合`中，供在线服务器进行选择，实现 `负载均衡`

# 在线服务器

1. 获得首页的首页
2. 获得网页的题目列表
3. 用户的登陆，注册，题库的增删改查
4. 题目的编译运行

在线服务器使用了 `MVC`架构

![请添加图片描述](https://img-blog.csdnimg.cn/6df3413712ac4844af3e6e1b288d27c9.png)


请求服务的编译运行功能就需要用到 `负载均衡`模块

![请添加图片描述](https://img-blog.csdnimg.cn/a58d238732a9422cbac6e2baf2f5178b.png)


当要进行路由判断功能时，加载负载均衡模块，使用相应的负载均衡算法（使用哈希的方法来选择机器)，对相应的判题服务器发起请求，获得反馈

# 数据库图表

提前加载进可供选择的后端编译机器

| ip | port |
| -- | ---- |

题目信息

| 题号 | 标题 | 难度 | 题目表述 | 显示给用户的函数 | 测试样例 | cpu的时间限制 | 内存限制 |
| ---- | ---- | ---- | -------- | ---------------- | -------- | ------------- | -------- |

用户

| 用户名 | 密码 |
| ------ | ---- |